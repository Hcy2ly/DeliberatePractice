## 2021 0917

1. 浏览器原生css 替代 js的一些优秀片段
   问题：
      如今依赖 JavaScript 提供交互的网站越来越多。虽然 JavaScript 可以提供愉快的体验，但同时也带来了一些负面影响：
       1. 页面加载时间变长;
       2. 只有在 JavaScript 加载完成且正确无误后，页面才能使用；
       3. 团队需要足够的手段和资源来关注可用性、反应性和可访问性。
       鉴于这些缺点，我们可以依靠浏览器提供的原生解决方案，这种方式不仅可以降低成本，而且还可以享受社区创建的 Web 标准专业知识带来的优势。通常，这些解决方案的代码量较少，因此还可以减少开发团队的维护工作（比如无需更新使用的库）。

   重点关注：**js加载会阻塞浏览器的渲染**
      浏览器只有一个线程来控制页面的渲染。在运行 JavaScript 时，浏览器会延迟用户交互事件与界面更新。这就很讨厌了，因为你会觉得页面没有响应你的操作，或者感觉动画很卡。

   css原生在以下场景的处理方式：[节省js代码的一些css代码片段.css]
      1. 限制显示的行数
         js只能通过计算字体所占位置来控制，但是会因为字体的修改，浏览器兼容字体不同导致计算不准确。
         原生有一个 -webkit-line-clamp CSS属性。除了 IE 和 Firefox 68 之前的版本外，所有浏览器都支持该属性。
      2. 重要的元素始终显示在页面上
         js只能通过监听页面滚动高度修改页面定位是relative还是absolute来实现。
         原生有一个position：sticky;属性可以实现。而且没有性能、响应性或内容跳跃的问题：只要浏览器可以滚动，它就会将元素准确地定位到你声明的位置上。你可以利用 top 、 bottom 、 left 或 right 选择定位。[会根据你给的top等偏移量固定在某个位置。]除了IE和旧版的 Chrome 或 Firefox 之外，所有浏览器都支持sticky。旧版的 Safari 需要 -webkit-sticky 前缀。
      3. 平滑滚动
         js只能通过定期执行修改滚动位置的操作，还要保证这个时候没有别的js加载阻塞渲染。
         原生CSS有一个属性scroll-behavior: smooth 和 {behavior: 'smooth'}，可以代替JavaScript的 scroll 、 scrollTo 和 scrollIntoView ，将所有有关计时的决定都交给CSS。这样可能更符合常用设备的常规做法。
      4. 滚动到吸附点 （通过这种方式，可以创建幻灯片、水平列表，吸附到每张图片或每一节，让它们占据整个窗口。）
         场景是下面是各种商品图选择上面是一个图片的展示和向滚动，手指点击下面某个商品图选项，上面的区域就开始滚动到当前这张图片。
         js做的话需要监听鼠标点击事件和移动事件。
         CSS的滚动吸附功能可以处理该行为。在滚动的容器中，定义 scroll-snap-type 来指示吸附的方向，以及吸附必定发生还是仅在接近吸附点时发生。然后在容器的子元素中定义 scroll-snap-align 来标明吸附点。
      5. 延迟图像加载
         js需要使用 <img/> 标签，通过修改属性值加载显示图片。这种方法的主要缺点就是，在相应的JavaScript执行之前图像不会被显示。而且这种情况发生的频率远超你的想象。搜索引擎也很难看到图像，因为本质上图像并不存在，而且爬虫也不会滚动屏幕。选择何时触发加载非常重要。怎样根据当前的带宽来决定当图像距离视口多远时进行加载？是否应当考虑滚动的速度？
         原生css的懒加载直接用属性loading设置为lazy就可以实现。几乎不需要任何代价，就可以让网站还在变快。


2. 每日算法：无重复字符的最长子串 [lengthOfLongestSubstring.js]
   题目： 给定一个字符串，请你找出其中不含有重复字符的 最长子串 的长度 和 字符。

   案例：
      输入: "abcabcbb"
      输出: 3
      解释: 因为无重复字符的最长子串是 "abc"，所以其长度为 3。

      输入: "bbbbb"
      输出: 1
      解释: 因为无重复字符的最长子串是 "b"，所以其长度为 1。

   解法：
      1. 维护数组
      2. 维护下标
      3. 优化Map
